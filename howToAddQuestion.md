# 問題の追加方法

## おおまかな手順

1. levelディレクトリ内のlevels.jsonを開く
1. `levels`配列の中に問題を追加する

## levels.jsonの構成解説

このJSONファイルは、本ゲームのレベルデータを表現しています。各レベルは、以下のプロパティを持つオブジェクトとして表現されます。

### プロパティ

- `id`: レベルの一意の識別子。整数値です。**他の問題データと重複してはいけません。**
- `name`: レベルの名前。文字列です。
- `board`: レベルのボードレイアウトを表現する2次元配列。各セルは整数値で、特定のゲーム要素を表します。詳細は[ボードのセル値](#ボードのセル値)を参照。
- `quiz`: レベルに含まれる問題のリスト。各クイズは以下のプロパティを持つオブジェクトです。
  - `kagi`: 問題の質問。文字列です。
  - `ans`: 問題の答え。文字列です。表記は**ローマ字**で、**半角スペース**で区切ってください。
  - `loc`: 問題の位置を表す配列。[行, 列]の形式です。
  - `direction`: 問題の方向。"vertical"または"horizontal"のいずれかの文字列です。

### ボードのセル値

ボードの各セルは整数値で、以下のゲーム要素を表します。

- `0`: 空のセル
- `1`, `2`, `3`, `4` etc: 特定の単語の番号
- `-1`: ダミーマス（黒塗りのマス）
- `-2`: 透過マス（10*10以外の問題を作成する際に使用する透過マス）

### 例1

以下は、idが0のレベルの例です。

```json
{
  "id": 0,
  "name": "テストレベル：動作テスト",
  "board": [
    [1, 0, 0, 0, 2, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 3, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 4, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  ],
  "quiz": [
    { "kagi": "あきらって誰？", "ans": "a ki ra", "loc": [0, 0], "direction": "vertical" },
    { "kagi": "あいうえ", "ans": "a i u e", "loc": [4, 0], "direction": "horizontal" },
    { "kagi": "かきくけ", "ans": "ka ki ku ke", "loc": [1, 3], "direction": "horizontal" },
    { "kagi": "チョコレートうまい", "ans": "a ki", "loc": [1, 7], "direction": "vertical" }
  ]
}
```

### 例2

以下は透過マスを用いて、8*8の問題を作成した例です。

```json
{
      "id": 2,
      "name": "テストレベル：透過マスのテスト",
      "board": [
        [-2, -2, -2, -2, -2, -2, -2, -2, -2, -2],
        [-2, 0, 0, 0, 0, 0, 0, 0, 0, -2],
        [-2, 0, 0, 0, 0, 0, 0, 0, 0, -2],
        [-2, 3, 0, 0, 0, 0, 0, 0, 0, -2],
        [-2, 0, 0, 0, 0, 0, 0, 0, 0, -2],
        [-2, 0, -1, 0, 0, 0, 0, 0, 0, -2],
        [-2, 0, 0, 0, 0, 0, 0, 0, 0, -2],
        [-2, 4, 0, 0, 0, 0, 0, 0, 0, -2],
        [-2, 0, 0, 0, 0, 0, 0, 0, 0, -2],
        [-2, -2, -2, -2, -2, -2, -2, -2, -2, -2]
      ],
      "quiz": [
        { "kagi": "あきらって誰？", "ans": "a ki ra", "loc": [0, 0], "direction": "vertical" },
        { "kagi": "あいうえ", "ans": "a i u e", "loc": [4, 0], "direction": "horizontal" },
        { "kagi": "かきくけ", "ans": "ka ki ku ke", "loc": [1, 3], "direction": "horizontal" },
        { "kagi": "チョコレートうまい", "ans": "a ki", "loc": [1, 7], "direction": "vertical" }
      ]
    }
```